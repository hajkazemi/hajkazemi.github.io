define("designPanel/core/designPanelMixin",["prop-types","lodash","core","designPanelUtils","experiment"],function(e,t,i,n,s){"use strict";return{mixins:[n.mixins.styleIdMixin,n.mixins.panelPositionMixin],propTypes:{compType:e.string.isRequired},getInitialState:function(){return this.getResetState(this.props)},getResetState:function(e){var i={advancedStyling:!1,currentAdvancedStyleId:"",isStyleChanged:!1};return this.getStateFromProps&&t.assign(i,this.getStateFromProps(e)),i},componentWillMount:function(){s.isOpen("animateChangeStyleButton")&&(this.customizeDesignClicked=!1),this.props.onlyAdvancedStyling&&this.openCustomizeDesign()},componentWillReceiveProps:function(e){t.isEqual(e.selectedComponent,this.props.selectedComponent)||(s.isOpen("animateChangeStyleButton")&&(this.customizeDesignClicked=!1),this.setState(this.getResetState(e))),this.syncStyleIds()},syncStyleIds:function(){var e=this.getComponentStyleId();this.state.currentAdvancedStyleId&&e!==this.state.currentAdvancedStyleId&&this.setState({currentAdvancedStyleId:e})},getPropsForDesignPanel:function(){var e=t.assign({},this.props,{changePermanentState:this.changePermanentState,changeTempState:this.changeTempState,maintainOriginalState:this.maintainOriginalState,isSelectedItem:this.isSelectedItem,hideComponentSections:this.state.advancedStyling,shouldHideContentOverflow:this.state.advancedStyling,isCustomizeDesign:this.state.advancedStyling});return this.state.advancedStyling&&!this.props.onlyAdvancedStyling&&(e.onBackClick=this.customizeDesignCallBack),e},openCustomizeDesign:function(){var e=void 0,o={},a=this.getEditorAPI();this.state.currentAdvancedStyleId?e=this.state.currentAdvancedStyleId:(e=this.createCurrentAdvancedStyleId(),t.assign(o,{currentAdvancedStyleId:e})),o.currentStyleId=e,a.documentServices.waitForChangesApplied(function(){var l=a.documentServices.viewMode.get()===a.documentServices.viewMode.VIEW_MODES.MOBILE;if((s.isOpen("fastStyling")||l)&&n.customizeDesignComponents.isFastStylingEnabled(this.props.compType)&&!function(e){return e.switchPanelFunc||e.setStyleFunc}(this.props)){var r={backButtonLabel:"design_panel_back_button_label",onBackClick:t.noop,styleId:e};a.replaceComponentPanel(i.constants.componentPanels.customizeDesign,r)}else o.advancedStyling=!0,s.isOpen("animateChangeStyleButton")&&(this.customizeDesignClicked=!0);this.setState(o,function(){this.setComponentStyleId(e),this.reportCustomizeDesignClickedToBI()})}.bind(this))},reportCustomizeDesignClickedToBI:function(){this.getEditorAPI().bi.event(i.bi.events.designPanel.DESIGN_PANEL_CUSTOMIZE_BUTTON_CLICK,{was_preset_clicked_current_session:this.state.isStyleChanged,component_type:this.getCompTypeForBI(this.props.compType),component_id:t.head(this.props.selectedComponent).id,chosen_style_id:this.state.currentStyleId})},customizeDesignCallBack:function(){this.setState({advancedStyling:!1});this.getEditorAPI().bi.event(i.bi.events.ADVANCED_STYLE_PANEL.BACK_BUTTON_CLICK,{component_type:this.getCompTypeForBI(this.props.compType)})},getAdvancedStylingProps:function(){var e={selectedSkin:this.props.selectedSkin,selectedComponent:this.props.selectedComponent,styleId:this.state.currentAdvancedStyleId,compType:this.props.compType,maxStrokeWidth:this.props.maxStrokeWidth,panelPosition:this.actualPanelPosition};return t.has(this.props,"shouldStartClosed")&&(e.shouldStartClosed=this.props.shouldStartClosed),e}}}),define("designPanel/core/designPanel.rt",["react","lodash","util","compPanels"],function(e,t,i,n){"use strict";return function(){function s(i){var n=this.getSections();return e.createElement.apply(this,["div",{onMouseLeave:this.onPanelMouseLeave,className:t(this.getSectionsClasses()).transform(function(e,t,i){t&&e.push(i)},[]).join(" "),key:"designPanelSections"},t.map(n,function(i,n,s,o){return e.createElement(i,t.assign({},{ref:this.getSectionRef(s,o),key:this.getSectionRef(s,o)},this.getSectionProps(s,o,n)))}.bind(this,i,n))])}return function(){var o=this.getEditorAPI().addPanelInfra.baseGenerator;return e.createElement(n.compPanelFrame,t.assign({},{id:"designPanel",title:this.getTitle(),shouldHideContentOverflow:this.props.shouldHideContentOverflow,helpId:this.getHelpId()},i.panelUtils.getFrameProps(this.props)),this.props.hideComponentSections?null:s.apply(this,[o]),e.createElement("div",{},this.props.children))}.apply(this,[])}}),define("designPanel/core/designPanel",["create-react-class","prop-types","lodash","addPanelDataConsts","util","core","designPanelUtils","designPanel/core/designPanel.rt","helpIds"],function(e,t,i,n,s,o,a,l,r){"use strict";return e({displayName:"designPanel",mixins:[o.mixins.editorAPIMixin,s.addPanelHoverMixin],render:l,propTypes:{panelName:t.string.isRequired,style:t.object.isRequired,selectedComponent:t.array.isRequired,compType:t.string.isRequired,changePermanentState:t.func.isRequired,changeTempState:t.func.isRequired,maintainOriginalState:t.func.isRequired,hideComponentSections:t.bool,getTitle:t.func,title:function(e){if(!i.isUndefined(e.title)){if(!i.isUndefined(e.getTitle))return new Error("Cannot provide both title and getTitle");if(!i.isString(e.title))return new Error("Warning: Invalid prop 'title', expected a string.")}},getSections:t.func,getAdditionalElementProps:t.func,shouldHideContentOverflow:t.bool},getInitialState:function(){return{selectedItemKey:null}},componentWillReceiveProps:function(e){var t=this.getEditorAPI().components.style.getId(this.props.selectedComponent);this.styleId!==t&&(this.styleId=t),e.hideComponentSections!==this.props.hideComponentSections&&this.setState({selectedItemKey:null})},getTitle:function(){var e=this.getEditorAPI();return this.props.getTitle?this.props.getTitle():this.props.title?this.props.title:e.addPanel.getDesignPanelTitleByComp(this.props.compType,this.props.selectedComponent)},getHelpId:function(){return this.props.helpId?this.props.helpId:this.props.isCustomizeDesign?r.UTILS.getCustomizeDesignHelpId(this.props.compType):r.UTILS.getDesignHelpId(this.props.compType)},getSections:function(){if(this.props.getSections)return this.props.getSections();return this.getEditorAPI().addPanel.getSectionsByComponentType(this.props.compType,this.props.selectedComponent)},onClick:function(e,t,i,n){this.props.changePermanentState(e,n),this.setState({selectedItemKey:n}),this.getEditorAPI().history.add("clicked on new item in design panel"),this.reportToBI(e,t,i,n)},reportToBI:function(e,t,n,s){var l=this.getEditorAPI(),r=a.changeStyleHelper.getCompDefStyleId(e,l),p=r?l.documentServices.theme.styles.get(r):"";l.bi.event(o.bi.events.designPanel.DESIGN_PANEL_SELECT_PRESET_CLICK,{style_id:r,preset_id:s,component_type:this.props.compType,component_id:i.head(this.props.selectedComponent).id,preset_data_skin:p&&p.skin,preset_data_tags:n,section:t})},onMouseEnter:function(e,t){this.enter(null,e,t,this.props.changeTempState)},onItemMouseLeave:function(e){this.leave(null,e)},onPanelMouseLeave:function(){this.props.hideComponentSections||this.props.maintainOriginalState()},getSectionRef:function(e,t){return e.type+t},getSectionsClasses:function(){return{sections:!0,"panel-has-children":!!this.props.children&&!i.isEmpty(i.compact(this.props.children))}},getSectionProps:function(e,t,s){var o=i.isFunction(this.props.isSelectedItem)&&function(e){return i(e).map("type").uniq().isEqual([n.SECTIONS_TYPES.PRESET])}(s);return i.assign(e,{id:this.getSectionRef(e,t),additionalScaling:n.DESIGN_PANEL_SCALE,onClick:this.onClick,isImageSection:"wysiwyg.viewer.components.WPhoto"===this.props.compType,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onItemMouseLeave,isSelectedItem:this.props.isSelectedItem,selectedItemKey:this.state.selectedItemKey?[this.state.selectedItemKey]:null,parentType:n.PANEL_TYPES.DESIGN_PANEL,nextSibling:s[t+1],sectionIndex:t,getAdditionalElementProps:this.props.getAdditionalElementProps,getAdditionalItemProps:function(e){var t=this.props.getAdditionalElementProps&&this.props.getAdditionalElementProps(e.structure)||{},n=this.state.selectedItemKey&&this.state.selectedItemKey===e.id,s=o&&this.props.isSelectedItem(e.structure);if(n||s){var a=t.className?t.className+" ":"";t=i.assign(t,{className:a+"design-panel-selected-item",symbolName:"selectedItemDesignPanel"})}return t}.bind(this)})}})}),define("designPanel/panelTypes/changeStyleDesignPanel.rt",["react","lodash","designPanel/core/designPanel","baseUI","util"],function(e,t,i,n,s){"use strict";return function(){return e.createElement(i,t.assign({},{ref:"designPanel"},this.getPanelProps()),this.shouldLinkToAdvancedStyling()?e.createElement("div",{className:"button-wrapper",key:"customizeDesignBtn"},e.createElement(n.button,{ref:"customizeDesign",className:"button",label:"design_customize_button",onClick:this.openCustomizeDesign,icon:"customize_design_drop_light"})):null,this.state.advancedStyling?function(){var t=this.getAdvancedStylePanelClass();return e.createElement("div",{key:"advancedStylePanel"},e.createElement(t,this.getAdvancedStylingProps()))}.apply(this,[]):null)}}),define("designPanel/panelTypes/changeStyleDesignPanel",["reactDOM","create-react-class","prop-types","lodash","jquery","core","advancedStylePanel","designPanel/core/designPanelMixin","designPanelUtils","designPanel/panelTypes/changeStyleDesignPanel.rt","experiment"],function(e,t,i,n,s,o,a,l,r,p,d){"use strict";function c(e,t){return n.pick(e.components.layout.get(t),["x","y","width","height"])}function u(e,t){return t.currentStyleId||e.components.style.getId(t.selectedComponent)}var m=["wysiwyg.viewer.skins.page.TransparentPageSkin","wysiwyg.viewer.skins.screenwidthcontainer.TransparentHalfScreen","wysiwyg.viewer.skins.screenwidthcontainer.TransparentScreen","wysiwyg.viewer.skins.area.TransparentArea"],h=["wysiwyg.viewer.skins.VideoSkin"],g=["wysiwyg.viewer.skins.photo.NoSkinPhoto"],y={"wysiwyg.viewer.components.svgshape.SvgShape":a.svgShape,"wysiwyg.viewer.components.BoxSlideShowSlide":a.boxSlideShowSlide};return t({displayName:"changeStyleDesignPanel",mixins:[l,o.mixins.editorAPIMixin],render:p,propTypes:{panelName:i.string.isRequired,style:i.object.isRequired,selectedComponent:i.oneOfType([i.object.isRequired,i.array.isRequired]),compType:i.string.isRequired,setStyleFunc:i.func,currentStyleId:i.string,shouldMaintainOriginalLayout:i.bool,shouldChangeProperties:i.bool},getDefaultProps:function(){return{backButtonLabel:"design_panel_back_button_label"}},getStateFromProps:function(e){var t=this.getEditorAPI(),i=u(t,e),n=o.styleManager.getStyleById(t.theme,t.components,i);return{currentStyleId:i,layoutToMaintain:e.shouldMaintainOriginalLayout&&c(t,e.selectedComponent),tempStyleId:o.styleManager.getTempStyleId(t.theme,n)}},componentWillReceiveProps:function(e){var t=this.getEditorAPI();if(n.isEqual(e.selectedComponent,this.props.selectedComponent)&&this.state.layoutToMaintain){var i=c(t,e.selectedComponent),s=!n.isEqual(this.state.layoutToMaintain,i),o=!n.isEqual(u(t,e),this.state.currentStyleId);s&&!o&&this.setState({layoutToMaintain:i})}},changePermanentState:function(t){var i=this.getEditorAPI(),n=r.changeStyleHelper.getCompDefStyleId(t,i);if(n){this.setComponentStyleId(n);var o={currentStyleId:n,currentAdvancedStyleId:"",isStyleChanged:!0};if(d.isOpen("animateChangeStyleButton")){var a=s(e.findDOMNode(this.refs.customizeDesign));a.removeClass("animate-button"),this.setState(o,function(){a.addClass("animate-button")})}else this.setState(o)}},changeTempState:function(e){var t=this.getEditorAPI(),i=r.changeStyleHelper.getCompDefStyle(e,t);o.styleManager.prepareTempStyleValue(i),i&&this.state.tempStyleId&&(this.props.setStyleFunc?(t.theme.styles.update(this.state.tempStyleId,i,!0),this.props.setStyleFunc(this.state.tempStyleId,!0)):(t.components.layout.update(this.props.selectedComponent,this.state.layoutToMaintain,!0),this.setComponentStyleId(this.state.tempStyleId),t.components.style.update(this.props.selectedComponent,i)),this.props.shouldChangeProperties&&t.components.properties.update(this.props.selectedComponent,e.props))},maintainOriginalState:function(){if(this.state.currentStyleId){var e=this.getEditorAPI();this.setComponentStyleId(this.state.currentStyleId),this.props.setStyleFunc||e.components.layout.update(this.props.selectedComponent,this.state.layoutToMaintain,!0)}},isSelectedItem:function(e){var t=this.getEditorAPI(),i=r.changeStyleHelper.isCompDefStyleEqualToStyle(e,this.state.currentStyleId,this.props.compType,this.getEditorAPI()),s=n(this.props.selectedComponent).thru(t.components.properties.get).omit("id","metaData").isEqual(n.omit(e.props,"id","metaData"));return i&&(!this.props.shouldChangeProperties||s)},getPanelProps:function(){var e=this.getEditorAPI();return n.assign(this.getPropsForDesignPanel(),{getAdditionalElementProps:function(t){var i=r.changeStyleHelper.getCompDefStyle(t,e),s={};if(n.includes(m,i.skin))s.text="DESIGN_LABEL_NO_COLOR",s.className="design-panel-transparent-skin-item";else if(n.includes(h,i.skin))s.text="Design_Label_No_Frame",s.className="design-panel-no-frame-skin-item";else if(n.includes(g,i.skin)){s.text="Design_Label_No_Frame";this.props&&"wysiwyg.viewer.components.WPhoto"===n.head(this.props.compTypes)?s.className="design-panel-no-frame-skin-item":s.className="design-panel-no-frame-skin-item-discover-more"}return s}})},getAdvancedStylePanelClass:function(){return y[this.props.compType]?y[this.props.compType]:a.panel},shouldLinkToAdvancedStyling:function(){return!this.state.advancedStyling}})}),define("designPanel/panelTypes/changeDataDesignPanel.rt",["react","lodash","designPanel/core/designPanel"],function(e,t,i){"use strict";return function(){return e.createElement(i,t.assign({},{ref:"designPanel"},this.getPropsForDesignPanel()))}}),define("designPanel/panelTypes/changeDataDesignPanel",["create-react-class","lodash","core","designPanel/core/designPanelMixin","designPanel/panelTypes/changeDataDesignPanel.rt"],function(e,t,i,n,s){"use strict";return e({displayName:"changeDataDesignPanel",mixins:[n,i.mixins.editorAPIMixin],render:s,getStateFromProps:function(e){return{currentDataItem:this.getEditorAPI().components.data.get(e.selectedComponent)}},changePermanentState:function(e){e.data&&(this.getEditorAPI().components.data.update(this.props.selectedComponent,e.data),this.setState({currentDataItem:e.data}))},changeTempState:function(e){e.data&&this.getEditorAPI().components.data.update(this.props.selectedComponent,e.data)},maintainOriginalState:function(){this.state.currentDataItem&&this.getEditorAPI().components.data.update(this.props.selectedComponent,this.state.currentDataItem)},isSelectedItem:function(e){return e.data===this.state.currentDataItem}})}),define("designPanel/panelTypes/changeGalleryDesignPanel.rt",["react","lodash","designPanel/core/designPanel","baseUI","util","advancedStylePanel","compPanels"],function(e,t,i,n,s,o,a){"use strict";return function(){return function(){var s=this.getAdvancedStyleClass();return e.createElement(i,t.assign({},{ref:"designPanel"},this.getPropsForDesignPanel()),!this.state.advancedStyling&&s?e.createElement("div",{className:"button-wrapper",key:"customizeDesignBtn"},e.createElement(n.button,{className:"button",ref:"customizeDesign",label:"design_customize_button",onClick:this.openCustomizeDesign,icon:"customize_design_drop_light"})):null,this.state.advancedStyling&&s?e.createElement("div",{key:"advancedStylePanel"},e.createElement(s,this.getAdvancedStylingProps())):null)}.apply(this,[])}}),define("designPanel/panelTypes/changeGalleryDesignPanel",["reactDOM","create-react-class","lodash","jquery","core","designPanelUtils","advancedStylePanel","designPanel/core/designPanelMixin","designPanel/panelTypes/changeGalleryDesignPanel.rt","experiment","util"],function(e,t,i,n,s,o,a,l,r,p,d){"use strict";function c(e,t,n,s,a,l,r){var p=e[0],d=function(e,t,n,s,a,l,r){var p={componentType:n.componentType,type:"Component",style:l,layout:r,data:s,props:a,connections:i.get(e.components.serialize(t),"connections")};return p.connections&&!i.includes(u,p.componentType)&&(p.connections.items=i.filter(p.connections.items,{type:"WixCodeConnectionItem"})),i.assign(p,{layout:o.changeGalleryHelper.convertGalleryLayouts(e,t,p)})}(r,p,t,s,o.changeGalleryHelper.convertGalleryProperties(n,t.props,r),a,l),c=r.components.getContainer(p);r.components.remove(p,{isReplacingComp:!0}),r.components.add(c,d,p.id)}var u=["wysiwyg.viewer.components.SlideShowGallery","wysiwyg.viewer.components.SliderGallery","wysiwyg.viewer.components.MatrixGallery","wysiwyg.viewer.components.PaginatedGridGallery"];return t({displayName:"changeGalleryDesignPanel",mixins:[l,s.mixins.editorAPIMixin],render:r,getDefaultProps:function(){return{backButtonLabel:"design_panel_back_button_label"}},getStateFromProps:function(e){var t=this.getEditorAPI(),n=i.omit(t.components.layout.get(e.selectedComponent),"anchors");return{propertyItemToMaintain:t.components.properties.get(e.selectedComponent),dataItemToMaintain:t.components.data.get(e.selectedComponent),layoutToMaintain:n,currentStyleId:t.components.style.getId(e.selectedComponent)}},componentWillReceiveProps:function(e){var t=this.getEditorAPI().components.style.getId(e.selectedComponent)!==this.state.currentStyleId;this.setState({isStyleChanged:t})},changePermanentState:function(t){if(!this.pendingGalleryChange){this.pendingGalleryChange=!0;var i=this.getEditorAPI(),s=o.changeStyleHelper.getCompDefStyleId(t,i);c(this.props.selectedComponent,t,this.state.propertyItemToMaintain,this.state.dataItemToMaintain,s,this.state.layoutToMaintain,i),i.documentServices.waitForChangesApplied(function(){if(this.pendingGalleryChange=!1,p.isOpen("animateChangeStyleButton")){var t=n(e.findDOMNode(this.refs.customizeDesign));t.removeClass("animate-button"),d.animationFrameUtils.request(t.addClass.bind(t,"animate-button"))}}.bind(this))}},changeTempState:function(){},maintainOriginalState:function(){},isSelectedItem:function(e){var t=this.getEditorAPI();return(e.compType||e.componentType)===this.props.compType&&o.changeStyleHelper.isCompDefStyleEqualToStyle(e,this.state.currentStyleId,this.props.compType,t)},getAdvancedStyleClass:function(){return o.customizeDesignComponents.isGalleryCustomizable(this.props.compType)?o.customizeDesignComponents.isTPAGalleryAdvancedStyle(this.props.compType)?a.tpaGallery:a.panel:null}})}),define("designPanel/wixapps/wixappsDesignSubComponentsPanel.rt",["react","lodash","baseUILib","baseUI","core","compPanels","util"],function(e,t,i,n,s,o,a){"use strict";return function(){function s(t,s){return e.createElement("div",{},t.customization||t.styleCustomizationRules.length?e.createElement("div",{key:t.label},e.createElement(n.checkboxWithButton,{label:t.label,shouldTranslate:!0,className:"design-customization-checkbox",buttonLabel:"blog_design_panel_customize_design",value:!t.customization||this.isChecked(t.customization),onChange:function(e,t,i){this.updateCompValue(e.customization,String(i))}.bind(this,t,s),onButtonClick:this.openCustomizeDesign.bind(this,t),isCheckboxDisabled:!t.customization,isButtonDisabled:!t.styleCustomizationRules.length}),s!==this.getComps().length-1?e.createElement(i.Divider,{key:"divider-long",long:!0}):null):null)}return e.createElement.apply(this,[o.compPanelFrame,t.assign({},{title:this.getSelectedAppPartDisplayName()+"_design",helpId:this.getComponentHelpIdByType("design")},this.getFrameProps()),t.map(this.getComps(),s.bind(this))])}}),define("designPanel/wixapps/wixappsFontCustomizationPanel.rt",["react","lodash","baseUILib","baseUI","textControls","compPanels","helpIds","experiment","constants"],function(e,t,i,n,s,o,a,l,r){"use strict";return function(){function p(t){var i=r.UI.TOOLTIP.STYLE_TYPE.SMALL;return e.createElement("div",{className:"button-row"},function(t,i){var n=this.isBold();return e.createElement(s.iconButton,{isSelected:n,name:"textBold",tooltipValue:"text_editor_buttons_tooltip_bold",tooltipStyleType:i,onClick:function(e,t,i){this.setBold(!i)}.bind(this,t,i,n)})}.apply(this,[t,i]),function(t,i){var n=this.isItalic();return e.createElement(s.iconButton,{isSelected:n,name:"textItalic",tooltipValue:"text_editor_buttons_tooltip_italic",tooltipStyleType:i,onClick:function(e,t,i){this.setItalic(!i)}.bind(this,t,i,n)})}.apply(this,[t,i]),function(t,i){var n=this.isUnderlined();return e.createElement(s.iconButton,{isSelected:n,name:"textUnderline",tooltipValue:"text_editor_buttons_tooltip_underline",tooltipStyleType:i,onClick:function(e,t,i){this.setUnderlined(!i)}.bind(this,t,i,n)})}.apply(this,[t,i]),function(t,i){var n=this.resolveColor(this.getColor());return e.createElement(s.textColor,{onClick:function(e,t,i){this.openTextColorPicker(this.setColor,i)}.bind(this,t,i,n),tooltipValue:"text_editor_buttons_tooltip_text_color",tooltipStyleType:i,value:n})}.apply(this,[t,i]),function(t,i){var n=this.resolveColor(this.getBackgroundColor());return e.createElement(s.textBackgroundColor,{onClick:function(e,t,i){this.openTextColorPicker(this.setBackgroundColor,"noColor")}.bind(this,t,i,n),tooltipValue:"text_editor_buttons_tooltip_text_highlight",tooltipStyleType:i,handleNoColor:this.handleNoColor,color:"transparent"!==n?n:null})}.apply(this,[t,i]))}function d(){var r=l.isOpen("blogLineSpacing");return e.createElement(o.compPanelFrame,function(e,i){var n=t.assign({},e,i);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&i.hasOwnProperty("className")&&(n.className=i.className+" "+e.className),n}({className:"settings-panel",panelName:"wixappsFontCustomizationPanel",title:this.props.title,helpId:a.SETTINGS.WRICHTEXT},this.filteredProps()),this.props.customizeTheme?e.createElement(s.textStyle,{key:"textStyleCustomization",label:"text_editor_theme_label",infoText:"text_editor_tooltip_theme",value:this.getTheme(),onChange:this.setTheme,themeColors:this.getEditorAPI().theme.colors.getAll(),themeFonts:this.getEditorAPI().documentServices.theme.fonts.getAll(),isDeveloperMode:this.getEditorAPI().developerMode.isEnabled()}):null,this.props.customizeTheme?e.createElement(i.Divider,{long:!0,key:"textStyleCustomizationSeparator"}):null,function(t){var i=this.getEditorAPI();return e.createElement(s.fontFamily,{fonts:s.fontUtils.getCurrentSelectableFontsWithParams(i),infoText:"text_editor_font_tooltip",label:"text_editor_font_label",onChange:function(e,t,i){this.setFontFamily(i)}.bind(this,t,i),value:this.getFontFamily()})}.apply(this,[r]),e.createElement(i.Divider,{long:!0}),this.props.customizeTheme?e.createElement(n.slider,{key:"fontSizeCustomization",label:"text_editor_font_size_label",infoText:"text_editor_font_size_tooltip",value:this.getFontSize(),onChange:function(e,t){this.setFontSize(t)}.bind(this,r),min:s.constants.FONT_SIZE.MIN,max:s.constants.FONT_SIZE.MAX}):null,this.props.customizeTheme?e.createElement(i.Divider,{long:!0,key:"fontSizeCustomizationSeparator"}):null,p.apply(this,[r]),r?e.createElement(i.Divider,{long:!0,key:"blogLineSpacingExpDivider"}):null,r?e.createElement(n.accordion,{key:"blogLineSpacingExpComp",label:"text_editor_spacing_label"},e.createElement(s.lineHeight,{infoText:"text_editor_line_spacing_tooltip",value:this.getLineHeightValue(),onChange:function(e,t){this.setLineHeight(t)}.bind(this,r),onSlideEnd:this.focus})):null)}return d.apply(this,[])}}),define("designPanel/wixapps/wixappsFontCustomizationPanel",["lodash","create-react-class","prop-types","core","compPanels","util","panelUtils","textControls","designPanel/wixapps/wixappsFontCustomizationPanel.rt"],function(e,t,i,n,s,o,a,l,r){"use strict";return t({displayName:"wixappsFontCustomizationPanel",mixins:[n.editorAPIMixin,s.compPanelMixin,o.propTypesFilterMixin,s.wixappsPanelMixin,a.linkColorPickerMixin],propTypes:{fieldIds:i.arrayOf(i.string).isRequired,forType:i.string.isRequired,format:i.string.isRequired,view:i.string.isRequired,customizeTheme:i.bool},_getAppPartCustomizationRulesForCompParam:function(e){return this.props.fieldIds.map(function(t){return{fieldId:t,forType:this.props.forType,format:this.props.format,key:"comp."+e,type:"AppPartCustomization",view:this.props.view}},this)},_getValueFromCustomizationsOrDefaultValues:function(e){for(var t=this._getAppPartCustomizationRulesForCompParam(e);t.length;){var i=t.shift(),n=this.linkedCustomization(i);if(n.value)return n.value}},_getValueFromCurrentStyle:function(e){var t=this.getEditorAPI(),i=this.getTheme();return l.fontUtils.parseStyleFont(i,t.documentServices.theme.fonts.getAll(),t.theme.colors.getAll())[{fontFamily:"family",fontSize:"size",bold:"bold",italic:"italic",color:"cssColor",backgroundColor:"color"}[e]]},_getValue:function(e){var t=this._getValueFromCustomizationsOrDefaultValues(e);return void 0===t&&(t=this._getValueFromCurrentStyle(e)),t},_setValue:function(e,t){this._getAppPartCustomizationRulesForCompParam(e).forEach(function(e){this.linkedCustomization(e).requestChange(t)},this)},getFontFamily:function(){return this._getValue("fontFamily")},setFontFamily:function(e){this._setValue("fontFamily",e)},getFontSize:function(){return this._getValue("fontSize")},setFontSize:function(e){this._setValue("fontSize",e)},_getBooleanCustomizationValue:function(e){return o.stringUtils.isTrue(this._getValue(e))},_setBooleanCustomizationValue:function(e,t){this._setValue(e,t?"true":"false")},isBold:function(){return this._getBooleanCustomizationValue("bold")},setBold:function(e){this._setBooleanCustomizationValue("bold",e)},isItalic:function(){return this._getBooleanCustomizationValue("italic")},setItalic:function(e){this._setBooleanCustomizationValue("italic",e)},isUnderlined:function(){return this._getBooleanCustomizationValue("underline")},setUnderlined:function(e){this._setBooleanCustomizationValue("underline",e)},openTextColorPicker:function(e,t){var i={top:this.props.style.top,left:this.props.style.left};this.openColorPicker(e,t,!0,i)},getColorValue:function(e){return this._getValue(e)||"noColor"},setAppPartCustomizationValueForColorCompParam:function(e,t){this._setValue(e,t&&"noColor"!==t?t:null)},getColor:function(){return this.getColorValue("color")},setColor:function(e){this.setAppPartCustomizationValueForColorCompParam("color",e)},getBackgroundColor:function(){return this.getColorValue("backgroundColor")},setBackgroundColor:function(e){var t=/^color_/.test(e)?"back"+e:e;this.setAppPartCustomizationValueForColorCompParam("backgroundColor",t)},handleNoColor:function(){this.setAppPartCustomizationValueForColorCompParam("backgroundColor","transparent")},getStyle:function(){return this._getValueFromCustomizationsOrDefaultValues("style")},setStyle:function(e){this.setFontFamily(null),this.setFontSize(null),this._setValue("style",e)},getTheme:function(){var e=this.getStyle();return this.getEditorAPI().documentServices.wixapps.classics.styleMapping.styleToFontClass(e)||"font_8"},setTheme:function(e){var t=this.getEditorAPI().documentServices.wixapps.classics.styleMapping.fontClassToStyle(e);this.setStyle(t)},getLineHeightValue:function(){var e=this._getValue("line-height")||"auto";return"auto"===e?"":e},setLineHeight:function(e){this._setValue("line-height",e)},render:r})}),define("designPanel/wixapps/wixappsDesignCustomizationPanel.rt",["react","lodash","designPanel/panelTypes/changeStyleDesignPanel","designPanel/wixapps/wixappsFontCustomizationPanel"],function(e,t,i,n){"use strict";return function(){return e.createElement("div",{},"wysiwyg.viewer.components.WRichText"!==this.props.compType?e.createElement(i,t.assign({},{key:"changeStyleDesign",getTitle:this.getPanelTitle,compType:this.props.compType,currentStyleId:this.getStyleId(),selectedComponent:this.getCompRefs(),setStyleFunc:this.setStyleId},this.getPanelProps())):null,"wysiwyg.viewer.components.WRichText"===this.props.compType?e.createElement(n,t.assign({},{fieldIds:this.getFieldIds(),forType:this.getForType(),format:this.getFormat(),key:"wixappsFontCustomization",selectedComponent:this.props.selectedComponent,title:this.getPanelTitle(),view:this.getView(),customizeTheme:this.props.customizeTheme},this.getPanelProps())):null)}}),define("designPanel/wixapps/wixappsDesignCustomizationPanel",["create-react-class","prop-types","lodash","util","compPanels","designPanel/wixapps/wixappsDesignCustomizationPanel.rt"],function(e,t,i,n,s,o){"use strict";return e({displayName:"wixappsDesignCustomizationPanel",mixins:[s.compPanelMixin,n.propTypesFilterMixin,s.wixappsPanelMixin],propTypes:{styleCustomizationRules:t.array.isRequired,compType:t.string.isRequired,panelTitle:t.string.isRequired,panelStyle:t.object.isRequired,customizeTheme:t.bool},getPanelTitle:function(){return this.props.panelTitle},getStyleId:function(){var e=this._getStyleCustomizationRule();return this.linkedCustomization(e).value},getCompRefs:function(){return this.getEditorAPI().selection.getSelectedComponents()},setStyleId:function(e){this.props.styleCustomizationRules.forEach(function(t){this.setCustomizationValue(t,e,!0)},this)},customizeDesignCallBack:function(){},getFieldIds:function(){return this.props.styleCustomizationRules.map(function(e){return e.fieldId})},getFormat:function(){return this._getStyleCustomizationRule().format},getView:function(){return this._getStyleCustomizationRule().view},_getStyleCustomizationRule:function(){return i.head(this.props.styleCustomizationRules)},getForType:function(){return this._getStyleCustomizationRule().forType},getPanelProps:function(){return i.assign(this.filteredProps(),{style:this.props.panelStyle})},render:o})}),define("designPanel/wixapps/wixappsDesignSubComponentsPanel",["lodash","create-react-class","compPanels","designPanel/wixapps/wixappsDesignSubComponentsPanel.rt","designPanel/wixapps/wixappsDesignCustomizationPanel"],function(e,t,i,n,s){"use strict";return t({displayName:"wixappsDesignSubComponentsPanel",mixins:[i.compPanelMixin,i.wixappsPanelMixin],getStyleCustomizationRules:function(t){var i=this.getAvailableCustomizations("design"),n=this._getFormat();return e.filter(i,function(i){var s=e.isUndefined(i.format)||i.format===n||"*"===i.format,o=t.rules?e.some(t.rules,{fieldId:i.fieldId}):i.fieldId===(t.compId||t.id),a="comp.style"===i.key;return s&&o&&a})},getCompVisibilityCustomization:function(t){var i=e.find(this.getAvailableCustomizations("design"),function(i){return i.relatedComp===t.id&&e.includes(["comp.hidden","showItemsCount","showPostCount"],i.key)});return i&&(i.value=this.linkedCustomization(i).value),i},getComps:function(){var e=this;return this.getInnerComps().filter(function(t){return!e.evaluateHiddenWhenCondition(t.hiddenWhen)}).map(function(e){return{label:e.label,id:e.id,type:e.type,customization:this.getCompVisibilityCustomization(e),styleCustomizationRules:this.getStyleCustomizationRules(e)}},this)},isChecked:function(e){return e.value===e.input.trueVal},openCustomizeDesign:function(e){this.props.switchPanelFunc(s,{styleCustomizationRules:e.styleCustomizationRules,compType:this.getEditorAPI().documentServices.wixapps.classics.getComponentTypeByProxyName(e.type),panelTitle:e.label,panelStyle:this.props.style,customizeTheme:"LabelWithoutTheme"!==e.type})},updateCompValue:function(e,t){e.value=String(t===e.input.trueVal);this.linkedCustomization(e).requestChange(e.value)},render:n})}),define("designPanel/wixapps/wixappsDesignPanel",["create-react-class","lodash","core","compPanels","designPanel/wixapps/wixappsDesignSubComponentsPanel"],function(e,t,i,n,s){"use strict";return e({displayName:"WixappsDesignPanel",mixins:[i.mixins.editorAPIMixin,n.panelSwitcherMixin],getDefaultProps:function(){return{backButtonLabel:"list_design_panel_back_button_label"}},getInitialPanelClass:function(){return s}})}),define("designPanel/list/listDesignPresetPanel.rt",["react","lodash","baseUI","designPanel/core/designPanel"],function(e,t,i,n){"use strict";return function(){return e.createElement(n,t.assign({},{title:"list_design_panel_header_label",panelName:"listDesignPresetPanel",compType:"wixapps.integration.components.AppPart2",helpId:this.props.helpId},this.getDesignPanelProps()),e.createElement("div",{className:"button-wrapper"},e.createElement(i.button,{className:"button",label:"list_design_panel_customize_design_button_label",onClick:this.openCustomizeFieldsPanel})))}}),define("designPanel/list/listDesignPanelMixin",["lodash","prop-types","core","util"],function(e,t,i,n){"use strict";return{mixins:[i.mixins.editorAPIMixin],propTypes:{listId:t.string,selectedComponent:t.array.isRequired,switchPanelFunc:t.func.isRequired},switchPanel:function(e,t){this.props.switchPanelFunc(e,t)},getFormat:function(){return this.getEditorAPI().isMobileEditor()?"Mobile":void 0},getListId:function(){return this.props.listId||this.getEditorAPI().components.data.get(this.props.selectedComponent).appPartName},getCompId:function(){return e.head(this.props.selectedComponent).id},getFieldPropValue:function(e,t){var i=this.getEditorAPI().documentServices.wixapps.appbuilder.layout.getField(this.getListId(),e,this.getFormat());return t?i[t]:i},updateFieldPropValue:function(e,t,i){var n={name:e};n[t]=i,this.getEditorAPI().documentServices.wixapps.appbuilder.layout.setField(this.props.selectedComponent,this.getListId(),n,this.getFormat())},updateFieldPropValueInAllDevices:function(e,t,i){var n={name:e};n[t]=i,this.getEditorAPI().documentServices.wixapps.appbuilder.layout.setField(this.props.selectedComponent,this.getListId(),n),this.getEditorAPI().documentServices.wixapps.appbuilder.layout.setField(this.props.selectedComponent,this.getListId(),n,"Mobile")},addHistorySnapshot:function(e,t,i){this.getEditorAPI().history.add("List design update: listId ["+this.props.listId+"] fieldName ["+e+"] prop ["+t+"] newValue ["+i+"]")},getTitleForFieldPanel:function(t){return e.compact([n.translate("list_design_header_prefix"),t,n.translate("list_design_header_suffix")]).join(" ")}}}),define("designPanel/list/listCustomizeFieldsPanel.rt",["react","lodash","baseUILib","baseUI","compPanels","util","core"],function(e,t,i,n,s,o,a){"use strict";return function(){return e.createElement.apply(this,[s.compPanelFrame,function(e,i){var n=t.assign({},e,i);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&i.hasOwnProperty("className")&&(n.className=i.className+" "+e.className),n}({className:"list-customize-fields",title:"list_design_panel_header_label",panelName:this.panelName},this.filteredProps()),e.createElement(i.Divider,{long:!0}),t.map(this.getFields(),function(t,s){return e.createElement("div",{key:t.name},this.canCustomizeField(t)?e.createElement(n.checkboxWithButton,{key:t.name,className:"field-checkbox-component",shouldTranslate:!1,value:!t.hidden,onChange:function(e,t,i){this.toggleFieldVisibility(e,i)}.bind(this,t,s),label:t.displayName,buttonLabel:o.translate("list_design_panel_customize_field_call_to_action_label"),onButtonClick:this.openStylePanel.bind(this,t)}):null,this.canCustomizeField(t)?null:e.createElement(i.Checkbox,{key:t.name,labelAfterSymbol:!0,className:"field-checkbox-component",shouldTranslate:!1,value:!t.hidden,onChange:function(e,t,i){this.toggleFieldVisibility(e,i)}.bind(this,t,s),label:t.displayName}),e.createElement(i.Divider,{long:!0}))}.bind(this)),function(){var t=this.getListLayout();return e.createElement(n.checkboxWithButton,{className:"field-checkbox-component",value:!t.hideSeparator,onChange:function(e,t){this.setListLayout("hideSeparator",!t)}.bind(this,t),label:"list_design_panel_separator_label",buttonLabel:"list_design_panel_customize_field_call_to_action_label",onButtonClick:function(e){this.openSeparatorDesignPanel(e)}.bind(this,t)})}.apply(this,[])])}}),define("designPanel/list/fieldStyleDesignPanel.rt",["react","lodash","baseUI","designPanel/panelTypes/changeStyleDesignPanel"],function(e,t,i,n){"use strict";return function(){return e.createElement(n,t.assign({},{title:this.getTitleForFieldPanel(this.state.fieldData.displayName),selectedComponent:this.props.selectedComponent,compType:this.state.fieldData.componentType,currentStyleId:this.state.fieldData.style,shouldTranslate:!1,setStyleFunc:this.setFieldStyle.bind(this,this.state.fieldData),shouldMaintainOriginalLayout:!1},t.omit(this.filteredProps(),["shouldMaintainOriginalLayout","currentStyleId","getTitle","compRef","compType","setStyleFunc"])))}}),define("designPanel/list/fieldStyleDesignPanel",["create-react-class","prop-types","lodash","util","designPanel/list/fieldStyleDesignPanel.rt","designPanel/list/listDesignPanelMixin","core"],function(e,t,i,n,s,o,a){"use strict";return e({displayName:"fieldStyleDesignPanel",mixins:[o,n.propTypesFilterMixin],propTypes:{fieldName:t.string.isRequired,selectedComponent:t.array.isRequired},getInitialState:function(){var e=this.getFieldPropValue(this.props.fieldName);return{fieldData:e,lastPermanentStyle:e.style}},componentWillReceiveProps:function(){this.setState({fieldData:this.getFieldPropValue(this.props.fieldName)})},sendBIFieldStyleChanged:function(e,t){this.getEditorAPI().bi.event(a.bi.events.lists.LIST_DESIGN_FIELD_STYLE_CHANGED,{list_part_id:this.getListId(),component_id:this.getCompId(),field_id:e.name,field_display_name:e.displayName,field_type:e.type,new_style_id:t})},setFieldStyle:function(e,t,i){t!==this.state.fieldData.style&&(this.updateFieldPropValueInAllDevices(e.name,"style",t),i||t===this.state.lastPermanentStyle||(this.setState({lastPermanentStyle:t}),this.sendBIFieldStyleChanged(e,t)))},render:s})}),define("designPanel/list/listTextFieldDesignPanel.rt",["react","lodash","baseUILib","baseUI","textControls","compPanels","constants"],function(e,t,i,n,s,o,a){"use strict";return function(){return e.createElement(o.compPanelFrame,function(e,i){var n=t.assign({},e,i);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&i.hasOwnProperty("className")&&(n.className=i.className+" "+e.className),n}({panelName:"listTextFieldDesignPanel",title:this.getTitleForFieldPanel(this.state.fieldData.displayName),shouldTranslate:!1,className:"settings-panel"},this.filteredProps()),this.props.children?e.createElement("div",{key:"panel-children"},e.createElement(i.Divider,{long:!0}),"\n        ",this.props.children,"\n    "):null,e.createElement(i.Divider,{long:!0}),e.createElement(s.textStyle,{label:"text_editor_theme_label",value:this.state.fieldData.fontClass,infoText:"text_editor_tooltip_theme",nullLabel:this.translateIfNeeded("list_design_panel_Customize_TextField_CustomTheme_DropdownItem_Label"),onChange:function(e){this.updateFieldProp("fontClass",e)}.bind(this),themeColors:this.getEditorAPI().theme.colors.getAll(),themeFonts:this.getEditorAPI().documentServices.theme.fonts.getAll(),isDeveloperMode:this.getEditorAPI().developerMode.isEnabled()}),e.createElement(i.Divider,{long:!0}),e.createElement(s.fontFamily,{label:"text_editor_font_label",value:this.getFontFamilyValue(this.state.fieldData.fontFamily),infoText:"text_editor_font_tooltip",onChange:function(e){this.updateFieldProp("fontFamily",e)}.bind(this),fonts:s.fontUtils.getCurrentSelectableFontsWithParams(this.getEditorAPI())}),e.createElement(i.Divider,{long:!0}),e.createElement(n.slider,{label:"text_editor_font_size_label",value:parseInt(this.state.fieldData.fontSize,10),units:"px",infoText:"text_editor_font_size_tooltip",onChange:function(e){this.updateFieldProp("fontSize",e)}.bind(this),min:s.constants.FONT_SIZE.MIN,max:s.constants.FONT_SIZE.MAX}),e.createElement(i.Divider,{long:!0}),e.createElement("div",{className:"button-row"},e.createElement(s.iconButton,{name:"textBold",isSelected:this.state.fieldData.bold,onClick:function(e){this.updateFieldProp("bold",!this.state.fieldData.bold)}.bind(this),tooltipValue:"text_editor_buttons_tooltip_bold",tooltipStyleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL}),e.createElement(s.iconButton,{name:"textItalic",isSelected:this.state.fieldData.italic,onClick:function(e){this.updateFieldProp("italic",!this.state.fieldData.italic)}.bind(this),tooltipValue:"text_editor_buttons_tooltip_italic",tooltipStyleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL}),e.createElement(s.iconButton,{name:"textUnderline",isSelected:this.state.fieldData.underline,onClick:function(e){this.updateFieldProp("underline",!this.state.fieldData.underline)}.bind(this),tooltipValue:"text_editor_buttons_tooltip_underline",tooltipStyleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL}),e.createElement(s.textColor,{value:this.getColorValue(this.state.fieldData.color),onClick:function(e){this.onClickColor(this.state.fieldData.color)}.bind(this),tooltipValue:"text_editor_buttons_tooltip_text_color",tooltipStyleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL}),function(){var t=this.getBackgroundColorForPicker();return e.createElement(s.textBackgroundColor,{color:this.getColorValue(t),onClick:function(e,t){this.onClickBackgroundColor(e)}.bind(this,t),handleNoColor:this.handleNoBackgroundColor,tooltipValue:"text_editor_buttons_tooltip_text_highlight",tooltipStyleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL})}.apply(this,[]),e.createElement(s.iconsDropDown,{value:this.state.fieldData.layout["text-align"],onChange:function(e){this.updateLayoutProp("text-align",e)}.bind(this),items:this.textAlignOptions(),tooltipValue:"text_editor_buttons_tooltip_alignment",tooltipStyleType:a.UI.TOOLTIP.STYLE_TYPE.SMALL})))}}),define("designPanel/list/listTextFieldDesignPanel",["create-react-class","prop-types","lodash","util","designPanel/list/listTextFieldDesignPanel.rt","designPanel/list/listDesignPanelMixin","textControls"],function(e,t,i,n,s,o,a){"use strict";function l(e){return e&&e.replace(/^backcolor/,"color")}function r(e,t){this.getEditorAPI().panelManager.openPanel("panels.toolPanels.colorPicker.colorPickerPanel",{displayNoColor:!0,previewOnHover:!1,top:parseInt(this.props.style.top,10)+72+"px",left:parseInt(this.props.style.left,10)-12+"px",value:e,onChange:t},!0)}return e({displayName:"listTextFieldDesignPanel",mixins:[o,n.propTypesFilterMixin,n.translationMixin],propTypes:{fieldName:t.string.isRequired},getInitialState:function(){return{fieldData:this.getFieldPropValue(this.props.fieldName)}},componentWillReceiveProps:function(){this.setState({fieldData:this.getFieldPropValue(this.props.fieldName)})},getFontFamilyValue:function(e){return a.fontUtils.isUploadedFont(e)?e:e&&a.fontUtils.getFont(e).fontFamily},updateFieldProp:function(e,t){this.updateFieldPropValueInAllDevices(this.props.fieldName,e,t),this.addHistorySnapshot(this.props.fieldName,e,t)},textAlignOptions:function(){return{textAlignCenter:"center",textAlignLeft:"left",textAlignRight:"right",textAlignBlock:"justify"}},getBackgroundColorForPicker:function(){return l(this.state.fieldData.backgroundColor)},updateLayoutProp:function(e,t){var n=i.clone(this.state.fieldData.layout);n[e]=t,this.updateFieldProp("layout",n)},onClickColor:function(e){r.call(this,e,function(e){this.updateFieldProp("color",e)}.bind(this))},onClickBackgroundColor:function(e){r.call(this,e,function(e){e=function(e){return e&&e.replace(/^color/,"backcolor")}(e),this.updateFieldProp("backgroundColor",e)}.bind(this))},handleNoBackgroundColor:function(){return this.updateFieldProp("backgroundColor",null)},getColorValue:function(e){return e&&0===e.indexOf("backColor")&&(e=l(e)),e&&0===e.indexOf("color")&&(e=this.getEditorAPI().theme.colors.getAll()[e]||e),e},render:s})}),define("designPanel/list/listDateFieldDesignPanel.rt",["react","lodash","designPanel/list/listTextFieldDesignPanel","baseUI"],function(e,t,i,n){"use strict";return function(){return e.createElement(i,this.props,e.createElement.apply(this,[n.dropDown.select,{label:"list_design_panel_date_format",value:this.getFormatValue(),onChange:this.updateFormatValue},t.map(this.getAllDateFormats(),function(t,i){return e.createElement(n.dropDown.option,{value:t.value},"\n            ",this.translateIfNeeded(t.label),"\n        ")}.bind(this))]))}}),define("designPanel/list/listDateFieldDesignPanel",["create-react-class","prop-types","util","designPanel/list/listDateFieldDesignPanel.rt","designPanel/list/listDesignPanelMixin"],function(e,t,i,n,s){"use strict";return e({displayName:"listDateFieldDesignPanel",mixins:[s,i.translationMixin],propTypes:{fieldName:t.string.isRequired},getFormatValue:function(){return this.getFieldPropValue(this.props.fieldName,"format")},updateFormatValue:function(e){this.updateFieldPropValueInAllDevices(this.props.fieldName,"format",e),this.addHistorySnapshot(this.props.fieldName,"format",e)},getAllDateFormats:function(){return[{label:"LIST_date_format_D/MM/YYYY",value:"m/d/yyyy"},{label:"list_date_format_DD/MM/YYYY",value:"mm/dd/yyyy"},{label:"list__date_format_DD.MM.YYYY",value:"mm.dd.yyyy"},{label:"list__date_format_D.MM.YYYY",value:"m.d.yyyy"},{label:"list__date_format_DD_MMM_YYYY",value:"dd mmm yyyy"},{label:"list__date_format_DD-MM-YYYY",value:"dd-mm-yyyy"},{label:"list__date_format_MMMM_DD_YYYY",value:"mmmm dd, yyyy"},{label:"list__date_format_DD/MM/YYYY",value:"dd/mm/yyyy"},{label:"list__date_format_DD/M/YYYY",value:"d/m/yyyy"},{label:"list__date_format_DD.M.YYYY",value:"d.m.yyyy"}]},render:n})}),define("designPanel/list/listCustomizeFieldsPanel",["create-react-class","lodash","util","designPanel/list/listCustomizeFieldsPanel.rt","designPanel/panelTypes/changeStyleDesignPanel","designPanel/list/listDesignPanelMixin","designPanel/list/fieldStyleDesignPanel","designPanel/list/listTextFieldDesignPanel","designPanel/list/listDateFieldDesignPanel","core"],function(e,t,i,n,s,o,a,l,r,p){"use strict";var d={"string|wysiwyg.viewer.components.wrichtext":l,"wix:date|wysiwyg.viewer.components.wrichtext":r};return e({displayName:"listCustomizeFieldsPanel",mixins:[o,i.propTypesFilterMixin],panelName:"listCustomizeFieldsPanel",getFields:function(){return this.getEditorAPI().documentServices.wixapps.appbuilder.layout.getAllFields(this.getListId(),this.getFormat())},shouldShowFirstTime:function(){return"1.0"===this.getEditorAPI().documentServices.wixapps.appbuilder.data.lists.getListVersion(this.getListId())},canCustomizeField:function(e){return!this.getEditorAPI().isMobileEditor()&&"wix:RichText"!==e.type},openStylePanel:function(e){(function(e){this.getEditorAPI().bi.event(p.bi.events.lists.LIST_DESIGN_FIELD_CUSTOMIZE_CLICKED,{list_part_id:this.getListId(),component_id:this.getCompId(),field_id:e.name,field_display_name:e.displayName,field_type:e.type})}).call(this,e),this.switchPanel(function(e){var t=[e.type,e.componentType].join("|").toLowerCase();return d[t]||a}(e),{listId:this.getListId(),fieldName:e.name})},toggleFieldVisibility:function(e,t){this.updateFieldPropValue(e.name,"hidden",!t),this.addHistorySnapshot(e.name,"hidden",!t),function(e,t){this.getEditorAPI().bi.event(p.bi.events.lists.LIST_DESIGN_FIELD_VISIBILITY_CHANGED,{list_part_id:this.getListId(),component_id:this.getCompId(),field_id:e.name,field_display_name:e.displayName,field_type:e.type,check_box_status:t?"on":"off"})}.call(this,e,t)},getListLayout:function(){return this.getEditorAPI().documentServices.wixapps.appbuilder.layout.getListLayout(this.getListId(),this.getFormat())},setListLayout:function(e,t){var i={};return i[e]=t,this.getEditorAPI().documentServices.wixapps.appbuilder.layout.setListLayout(this.getListId(),i,this.getFormat())},openLearnMore:function(){var e={panel_name:this.panelName,origin:p.constants.BI.HELP.ORIGIN.PANEL,component:this.getEditorAPI().selection.getSelectedComponentType(),learn_more:!0};this.getEditorAPI().panelManager.openHelpCenter("54a00e80-0fe5-4b3d-af7e-ec5f38d727f2",null,e)},openSeparatorDesignPanel:function(e){this.switchPanel(s,t.assign(this.filteredProps(),{title:this.getTitleForFieldPanel(i.translate("list_design_panel_separator_label")),selectedComponent:[{id:"listSeparator"}],compType:e.separatorComponentType,currentStyleId:e.separatorStyle,setStyleFunc:this.setListLayout.bind(this,"separatorStyle"),shouldTranslate:!1,shouldMaintainOriginalLayout:!1}))},render:n})}),define("designPanel/list/listDesignPresetPanel",["create-react-class","prop-types","lodash","designPanel/list/listDesignPresetPanel.rt","designPanel/list/listDesignPanelMixin","designPanel/list/listCustomizeFieldsPanel","core"],function(e,t,i,n,s,o,a){"use strict";return e({displayName:"listDesignPresetPanel",mixins:[s],propTypes:{selectedComponent:t.array.isRequired},changePermanentState:function(e,t){(function(e){var t=e.custom.template;this.getEditorAPI().documentServices.wixapps.appbuilder.layout.setItemTemplate(this.getListId(),t),this.getEditorAPI().components.layout.update(this.props.selectedComponent,{width:e.layout.width},!0)}).call(this,e),function(e){this.getEditorAPI().bi.event(a.bi.events.lists.LIST_DESIGN_PRESET_CHANGED,{list_part_id:this.getListId(),component_id:this.getCompId(),preset_id:e})}.call(this,t)},openCustomizeFieldsPanel:function(){this.switchPanel(o,{listId:this.getListId()})},getDesignPanelProps:function(){return i.assign({},this.props,{changePermanentState:this.changePermanentState,changeTempState:i.noop,maintainOriginalState:i.noop})},render:n})}),define("designPanel/list/listDesignPanel",["create-react-class","prop-types","lodash","core","compPanels","designPanel/list/listDesignPresetPanel","designPanel/list/listCustomizeFieldsPanel"],function(e,t,i,n,s,o,a){"use strict";function l(e){return i.head(e).id}function r(){return this.getEditorAPI().components.data.get(this.props.selectedComponent).appPartName}return e({displayName:"listDesignPanel",mixins:[n.mixins.editorAPIMixin,s.panelSwitcherMixin],propTypes:{selectedComponent:t.array.isRequired},getDefaultProps:function(){return{backButtonLabel:"list_design_panel_back_button_label",helpId:"1d4fc63f-a23a-4ed3-b811-905f18045fe9"}},getInitialPanelClass:function(){return this.getEditorAPI().isMobileEditor()||"1.0"===function(){return this.getEditorAPI().documentServices.wixapps.appbuilder.data.lists.getListVersion(r.call(this))}.call(this)?a:o},onPreviousPanel:function(e){(function(e){this.getEditorAPI().bi.event(n.bi.events.lists.LIST_DESIGN_BACK_CLICKED,{list_part_id:r.call(this),component_id:l(this.props.selectedComponent),back_to_panel_name:e.displayName})}).call(this,e)},componentWillMount:function(){(function(){this.getEditorAPI().bi.event(n.bi.events.lists.LIST_DESIGN_PANEL_OPENED,{list_part_id:r.call(this),component_id:l(this.props.selectedComponent)})}).call(this)}})}),define("designPanel/panelTypes/cssDesignDataPanel.rt",["react","lodash","designPanel/core/designPanel","customizeDesignDataPanel","baseUI"],function(e,t,i,n,s){"use strict";return function(){return e.createElement(i,t.assign({},{ref:"designPanel"},this.getPropsForDesignPanel()),this.shouldLinkToAdvancedStyling()?e.createElement("div",{className:"button-wrapper",key:"customizeDesignBtn"},e.createElement(s.button,{className:"button",ref:"customizeDesign",label:"design_customize_button",onClick:this.openCustomizeDesign,icon:"customize_design_drop_light"})):null,this.state.advancedStyling?function(){var t=n.panel;return e.createElement("div",{key:"advancedStylePanel"},e.createElement(t,{selectedComponent:this.props.selectedComponent,selectedCategory:this.props.selectedCategory}))}.apply(this,[]):null)}}),define("designPanel/panelTypes/cssDesignDataPanel",["create-react-class","lodash","core","designPanelUtils","addPanelDataConsts","designPanel/panelTypes/cssDesignDataPanel.rt"],function(e,t,i,n,s,o){"use strict";var a=null,l=null;return e({displayName:"change-css-design-data-panel",mixins:[n,i.mixins.editorAPIMixin],getDefaultProps:function(){return{backButtonLabel:"design_panel_back_button_label"}},componentWillMount:function(){a=this.getEditorAPI().components.design.get(this.props.selectedComponent)},componentWillUnmount:function(){l=null},changePermanentState:function(e){e.design&&(l=e.design,this.getEditorAPI().components.design.update(this.props.selectedComponent,e.design,!0))},changeTempState:function(e){e.design&&this.getEditorAPI().components.design.update(this.props.selectedComponent,e.design,!0)},maintainOriginalState:function(){var e=l||a;t.isNull(e)||this.getEditorAPI().components.design.update(this.props.selectedComponent,e,!0)},isSelectedItem:function(e,i){if(!t.isNull(l))return e.design.charas===l.charas;if(e.design.charas===a.charas){var n=s.SECTIONS_TYPES;return i===n.PERSONALIZED_DESIGN||i===n.DESIGN_DATA_THEME_PRESET}},shouldLinkToAdvancedStyling:function(){return!this.state.advancedStyling},render:o})}),define("designPanel/panelTypes/changeGoogleMapDesignPanel.rt",["react","lodash","designPanel/core/designPanel"],function(e,t,i){"use strict";return function(){return e.createElement(i,t.assign({},{ref:"designPanel"},this.getPropsForDesignPanel()))}}),define("designPanel/panelTypes/changeGoogleMapDesignPanel",["create-react-class","core","lodash","designPanelUtils","designPanel/core/designPanelMixin","designPanel/panelTypes/changeGoogleMapDesignPanel.rt"],function(e,t,i,n,s,o){"use strict";var a={groups:{},properties:{},propertiesSource:{}};return e({displayName:"changeGoogleMapDesignPanel",mixins:[s,t.mixins.editorAPIMixin],getStateFromProps:function(e){var t=this.getEditorAPI(),n=e.selectedComponent,s=t.components.data.get(n),o=t.components.properties.get(n);return this.newStyleId=this.createStyleId("gm1"),{mapStyle:i.get(s,"mapStyle",[]),mapType:o.mapType,originalStyleId:t.components.style.getId(n),isPermanentStateChanged:!1}},updateComponent:function(e){var t=this.getEditorAPI(),s=this.props.selectedComponent,o=e.data,l=e.props,r=!1;if(o&&l){r=!0;var p=n.changeStyleHelper.getCompDefStyle({styleId:this.newStyleId},t);p.style=i.get(e,"style.style",a),t.components.data.update(s,i.pick(o,"mapStyle"),!0),t.components.properties.update(s,i.pick(l,"mapType"),!0),this.setComponentStyleId(this.newStyleId),t.components.style.update(this.props.selectedComponent,p),this.changeSkin(this.newStyleId,"wysiwyg.viewer.skins.GoogleMapSkin")}return r},changeSkin:function(e,t){var i=this.getEditorAPI().documentServices.theme.styles.get(e);t!==i.skin&&(i.skin=t,this.getEditorAPI().theme.styles.update(e,i))},changePermanentState:function(e){this.updateComponent(e)&&this.setState({mapStyle:e.data.mapStyle,mapType:e.props.mapType,isPermanentStateChanged:!0})},changeTempState:function(e){this.updateComponent(e)},maintainOriginalState:function(){var e=this.getEditorAPI(),t=this.props.selectedComponent,i=this.state.mapStyle,n=this.state.mapType;i&&n&&(e.components.data.update(t,{mapStyle:i},!0),e.components.properties.update(t,{mapType:n},!0),this.state.isPermanentStateChanged||this.setComponentStyleId(this.state.originalStyleId))},render:o})}),define("designPanel/core/designPanelFactory",["react","create-react-class","prop-types","lodash","core","designPanelUtils","designPanel/panelTypes/changeStyleDesignPanel","designPanel/panelTypes/changeDataDesignPanel","designPanel/panelTypes/changeGalleryDesignPanel","designPanel/wixapps/wixappsDesignPanel","designPanel/list/listDesignPanel","designPanel/panelTypes/cssDesignDataPanel","designPanel/panelTypes/changeGoogleMapDesignPanel"],function(e,t,i,n,s,o,a,l,r,p,d,c,u){"use strict";var m={"wysiwyg.common.components.imagebutton.viewer.ImageButton":{desktop:l},"wysiwyg.viewer.components.documentmedia.DocumentMedia":{desktop:l},"wysiwyg.viewer.components.MatrixGallery":{desktop:r},"wysiwyg.viewer.components.PaginatedGridGallery":{desktop:r},"wysiwyg.viewer.components.SliderGallery":{desktop:r},"wysiwyg.viewer.components.SlideShowGallery":{desktop:r},"tpa.viewer.components.Masonry":{desktop:r},"tpa.viewer.components.Accordion":{desktop:r},"tpa.viewer.components.Impress":{desktop:r},"tpa.viewer.components.Freestyle":{desktop:r},"tpa.viewer.components.Collage":{desktop:r},"tpa.viewer.components.Honeycomb":{desktop:r},"tpa.viewer.components.StripShowcase":{desktop:r},"tpa.viewer.components.StripSlideshow":{desktop:r},"tpa.viewer.components.Thumbnails":{desktop:r},"wysiwyg.viewer.components.tpapps.TPA3DGallery":{desktop:r},"wysiwyg.viewer.components.tpapps.TPA3DCarousel":{desktop:r},"wixapps.integration.components.AppPart":{desktop:p},"wixapps.integration.components.AppPart2":{desktop:d},"wysiwyg.viewer.components.HoverBox":{desktop:c},"wysiwyg.viewer.components.GoogleMap":{desktop:u}},h=["wysiwyg.viewer.components.QuickActionBar"];return t({displayName:"designPanelFactory",mixins:[s.mixins.editorAPIMixin],propTypes:{compType:i.string,shouldMaintainOriginalLayout:i.bool},componentWillUnmount:function(){this.props.onClose&&this.props.onClose()},render:function(){var t=this.getEditorAPI(),i=this.props.selectedComponent,s=this.props.compType;this.props.selectedComponent&&this.props.compType||(i=this.getEditorAPI().selection.getSelectedComponents(),s=t.components.getType(i));var l=function(e){var t=m[e];return t?this.getEditorAPI().isMobileEditor()&&t.mobile||t.desktop:a}.call(this,s),r={compType:s,selectedComponent:i,shouldMaintainOriginalLayout:!0,shouldChangeProperties:n.includes(h,s)};return o.customizeDesignComponents.showAdvancedStylingOnly(t,i,s)&&(r.onlyAdvancedStyling=!0),e.createElement(l,n.assign(r,this.props))}})}),define("designPanel",["designPanel/core/designPanelFactory","designPanel/list/listDesignPresetPanel","designPanel/list/listCustomizeFieldsPanel","designPanel/list/fieldStyleDesignPanel","designPanel/list/listTextFieldDesignPanel","designPanel/panelTypes/changeStyleDesignPanel"],function(e,t,i,n,s,o){"use strict";return{designPanel:e,changeStyleDesignPanel:o,list:{listDesignPresetPanel:t,listCustomizeFieldsPanel:i,fieldStyleDesignPanel:n,listTextFieldDesignPanel:s}}});
//# sourceMappingURL=designPanel.min.js.map